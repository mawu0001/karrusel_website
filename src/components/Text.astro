---
import SmallCard from "./SmallCard.astro"

const data = await fetch(
  "https://uvbxoelxnxgaxzhtqltc.supabase.co/rest/v1/artists",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2YnhvZWx4bnhnYXh6aHRxbHRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTA0OTI2NDMsImV4cCI6MjAyNjA2ODY0M30.9IGFv7B_qRusv2zUrH9tJ55r4XCJtXT6DbsgnhCLSmU",
    },
  }
).then((res) => res.json());

console.log(data);
---
 <div class="carousel">
    {
      data.map((data) => {
        return <SmallCard data={data} />;
      })
    }
  </section>
  <style>
    .carousel {
        display: flex;
        flex-direction: row;
        gap: 20px;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scrollbar-width: none;
        -ms-overflow-style: none;
        /* Set a minimum width to ensure horizontal scrolling */
        min-width: 100%;
        /* Allow items to wrap if they exceed container width */
        flex-wrap: nowrap;
    }

    .carousel::-webkit-scrollbar {
        display: none;
    }
    </style>